# Music extarcter
music extracter可以从用户提供歌曲的链接出发提取出歌曲的播放链接（可以下载音乐文件）以及对应的歌词文件，目前支持的音乐平台有：
* qq音乐: https://y.qq.com/n/yqq/song/001QGcyU3RXtdA.html
* 网易云音乐: https://music.163.com/#/song?id=1338695683
* 虾米音乐：https://www.xiami.com/song/1792541433
* 酷我音乐：http://www.kuwo.cn/yinyue/359900


## 1. 所需环境
python 3
pyquery
requests

## 2. 使用方法
```
python run.py url
```
示例如下(提取的歌曲信息以json格式呈现，方便批量提取以及后续编程使用)，值得注意的是:qq音乐以及虾米音乐的链接会随时间失效，建议想制作网页背景歌曲可以下载到本地
```bash
# qq音乐:
$ python run.py https://y.qq.com/n/yqq/song/001QGcyU3RXtdA.html
{'title': '昨日青空', 'author': '尤长靖', 'url': 'http://dl.stream.qqmusic.qq.com/C400001Nfkml2gwnaw.m4a?vkey=70A0564D3CCF1656DC5F76925E5C01F76A86D78A23E7C2BD37796C8C5CCA95E63FB650A10C3B390D4500F3D18BF9D2D4DF767AB0DC1A3CEB&guid=6612300644&uin=0&fromtag=66', 'pic': 'https://y.gtimg.cn/music/photo_new/T002R300x300M000001myJMT2apAaq.jpg?max_age=2592000', 'lrc': '[ti:昨日青空 (《昨日青空》电影主题曲)]\n[ar:尤长靖]\n[al:昨日青空]\n[by:]\n[offset:0]\n[00:00.33]昨日青空 (《昨日青空》电影主题曲) - 尤长靖\n[00:03.03]词 : 唐恬\n[00:03.54]曲 : 钱雷\n[00:04.09]编曲：钱雷\n[00:04.74]制作人：钱雷\n[00:05.58]贝斯: 李卓\n[00:06.39]和音：李卓\n[00:07.05]吉他：陈磊\n[00:07.72]录音室：钱雷\n[00:08.55]混音：周天澈\n[00:09.39]录影棚：那英工作室\n[00:13.84]忽然 一瞬间长大\n[00:18.62]就像 被时间的手 擦模糊的画\n[00:25.95]我们啊 各自要去哪\n[00:31.30]问题好傻 谁又能 回答\n[00:39.50]想念从 不说话\n[00:44.49]来不及的再见 多喧哗\n[00:51.85]陪我看大雨落下\n[00:56.76]潮湿的心 滴滴答答\n[01:00.09]带着温柔 又想起你啊\n[01:07.17]我好想你 在起风的夜里\n[01:10.24]我好想你 在人群的缝隙\n[01:13.64]你听见吗 这一句喜欢你\n[01:16.51]追得上你背影吗\n[01:19.35]那些大喊过的名字 没完成的约定\n[01:23.13]全都藏在心底 开出寂寞的花\n[01:26.38]你好吗 为什么长大就要走散啊\n[01:32.92]你现在在哪里 隔我多远距离\n[01:36.22]是否勇敢飞行 有没有人爱你\n[01:39.48]每当我想起你 世界突然安静\n[01:42.75]你也一样吗\n[01:45.57]青春有你出席 不是为了让你缺席\n[01:49.36]好想沿着回忆 狂奔向你 昨日的青空\n[01:55.11]随少年 挥手消失在 人海之中\n[02:01.81]你在吗 你能听到吗\n[02:07.91]我想你啊\n[02:39.28]我好想你 在起风的夜里\n[02:42.38]我好想你 在人群的缝隙\n[02:45.66]你听见吗 这一句喜欢你\n[02:48.62]追得上你背影吗\n[02:51.36]那些大喊过的名字 没完成的约定\n[02:55.10]全都藏在心底 开出寂寞的花\n[02:58.50]你好吗 为什么长大就要走散啊\n[03:04.97]你现在在哪里 隔我多远距离\n[03:08.27]是否勇敢飞行 有没有人爱你\n[03:11.58]每当我想起你 世界突然安静\n[03:14.94]你也一样吗\n[03:17.75]青春有你出席 不是为了让你缺席\n[03:21.39]好想沿着回忆 狂奔向你 昨日的青空\n[03:27.28]随少年 挥手消失在 人海之中\n[03:33.84]你在吗 你要幸福啊\n[03:40.02]我想你啊'}

# 网易云音乐:
$ python run.py https://music.163.com/#/song?id=1338695683
{'title': '起风了', 'author': '吴青峰', 'url': ' http://music.163.com/song/media/outer/url?id=1338695683.mp3', 'pic': 'http://p2.music.126.net/aMVPsO00OqlVTS2yMH8RgA==/109951163785600029.jpg', 'lrc': '[00:04.402] 编曲：刘胡轶 贡多杰\n[00:05.520] \n[00:06.820] 我曾将青春翻涌成她\n[00:10.460] 也曾指尖弹出盛夏\n[00:13.728] 心之所动 且就随缘去吧\n[00:20.729] \n[00:44.996] 这一路上走走停停\n[00:48.215] 顺着少年漂流的痕迹\n[00:51.443] 迈出车站的前一刻\n[00:54.743] 竟有些犹豫\n[00:57.346] \n[00:57.975] 不禁笑这近乡情怯\n[01:01.181] 仍无可避免\n[01:03.723] 而长野的天\n[01:05.296] 依旧那么暖\n[01:06.905] 风吹起了从前\n[01:09.310] \n[01:09.506] 从前初识这世间\n[01:12.372] 万般流连\n[01:14.123] 看着天边似在眼前\n[01:17.225] 也甘愿赴汤蹈火去走它一遍\n[01:21.882] \n[01:22.103] 如今走过这世间\n[01:25.357] 万般流连\n[01:27.128] 翻过岁月不同侧脸\n[01:29.940] 措不及防闯入你的笑颜\n[01:35.522] \n[01:36.023] 我曾难自拔于世界之大\n[01:40.130] 也沉溺于其中梦话\n[01:43.387] 不得真假 不做挣扎 不惧笑话\n[01:48.996] \n[01:49.213] 我曾将青春翻涌成她\n[01:52.426] 也曾指尖弹出盛夏\n[01:55.764] 心之所动 且就随缘去吧\n[02:01.922] 逆着光行走 任风吹雨打\n[02:08.622] \n[02:18.958] 短短的路走走停停\n[02:22.143] 也有了几分的距离\n[02:25.376] 不知抚摸的是故事 还是段心情\n[02:31.837] 也许期待的不过是 与时间为敌\n\n[02:37.707] 再次看到你\n[02:39.273] 微凉晨光里\n[02:40.959] 笑得很甜蜜\n[02:43.013] \n[02:43.304] 从前初识这世间\n[02:46.403] 万般流连\n[02:48.109] 看着天边似在眼前\n[02:51.230] 也甘愿赴汤蹈火去走它一遍\n[02:56.213] \n[02:56.391] 如今走过这世间\n[02:59.447] 万般流连\n[03:00.989] 翻过岁月不同侧脸\n[03:04.024] 措不及防闯入你的笑颜\n[03:12.872] \n[03:13.469] 我曾难自拔于世界之大\n[03:17.271] 也沉溺于其中梦话\n[03:20.547] 不得真假 不做挣扎 不惧笑话\n[03:26.320] \n[03:26.532] 我曾将青春翻涌成她\n[03:30.112] 也曾指尖弹出盛夏\n[03:33.160] 心之所动 且就随缘去吧\n[03:39.029] \n[03:41.138] 晚风吹起你鬓间的白发\n[03:44.814] 抚平回忆留下的疤\n[03:48.139] 你的眼中 明暗交杂 一笑生花\n[03:55.224] \n[03:55.864] 我仍感叹于世界之大\n[03:59.111] 也沉醉于儿时情话\n[04:02.250] 不剩真假 不做挣扎 无谓笑话\n[04:08.541] 我终将青春还给了她\n[04:11.917] 连同指尖弹出的盛夏\n[04:15.655] 心之所动 就随风去了\n[04:21.462] 以爱之名 你还愿意吗\n[04:28.856] \n[04:30.367] 制作人：刘胡轶 吴青峰\n[04:31.973] 配唱制作人：刘胡轶\n[04:33.574] 乐器监制：刘胡轶\n[04:35.281] 吉他：胡晨\n[04:36.876] 贝斯：甯子达\n[04:38.428] 鼓（打击乐）：祁大为\n[04:40.048] 和音编写&演唱：鱼椒盐\n[04:41.726] 弦乐监制：李朋\n[04:43.356] 弦乐：国际首席爱乐乐团\n[04:45.345] 人声&吉他&鼓（打击乐）录音棚：55Tec studio\n[04:46.493] 弦乐录音棚：中国剧院录音棚\n[04:48.179] 录音工程师：倪涵文、李游、李杨、邢铜、韩宽、李巍\n[04:49.745] 录音监制：倪涵文、李游 \n[04:51.462] 混音&母带工作室：OKmastering studio\n[04:52.993] 混音&母带工程师：全相彦\n[04:54.675] 制作协力：刘西洋\n[04:56.208] 音乐制作发行：智慧大狗 × 天才联盟\n[04:57.942] 出品人：张葛\n[04:59.553] 监制：崔恕、王明宇'}

# 虾米音乐：
$ python run.py https://www.xiami.com/song/1792541433
{'title': '如果我们不曾相遇', 'author': '五月天', 'url': 'http://m128.xiami.net/110/3110/2100337262/1792541433_1534985293413.mp3?auth_key=1550545200-0-0-92630b58e0748ee5e5b7cca4164bffab', 'pic': 'http://img.xiami.net/images/album/img10/3110/21003372621469680510_1.jpg', 'lrc': '[ti:如果我们不曾相遇]\r\n[ar:五月天]\r\n[al:]\r\n[ly:阿信]\r\n[mu:阿信]\r\n[ma:五月天/陶山]\r\n[pu:]\r\n[by:ttpod]\r\n[total:201795]\r\n[offset:0]\r\n[00:00.361]如果我们不曾相遇 - 五月天\r\n[00:00.798]作词：阿信\r\n[00:00.944]作曲：阿信\r\n[00:01.090]编曲：五月天 / 陶山\r\n[00:01.833]\r\n[00:04.807]如果我们不曾相遇\r\n[00:09.385]我会是在哪里\r\n[00:13.941]如果我们从不曾相识\r\n[00:18.525]不存在这首歌曲\r\n[00:22.858]每秒都活着 每秒都死去\r\n[00:27.523]每秒都问着自己\r\n[00:31.815]谁不曾找寻 谁不曾怀疑\r\n[00:36.730]茫茫人生奔向何地\r\n[00:41.896]那一天 那一刻 那个场景\r\n[00:46.356]你出现在我生命\r\n[00:50.873]从此后 从人生 重新定义\r\n[00:55.372]从我故事里苏醒\r\n[01:02.400]如果我们不曾相遇\r\n[01:06.894]你又会在哪里\r\n[01:11.569]如果我们从不曾相识\r\n[01:16.176]人间又如何运行\r\n[01:20.411]晒伤的脱皮 意外的雪景\r\n[01:25.083]与你相依的四季\r\n[01:29.649]苍狗又白云 身旁有了你\r\n[01:34.282]匆匆轮回又有何惧\r\n[01:39.461]那一天 那一刻 那个场景\r\n[01:44.064]你出现在我生命\r\n[01:48.499]每一分 每一秒 每个表情\r\n[01:53.182]故事都充满惊奇\r\n[01:57.939]偶然与巧合 舞动了蝶翼\r\n[02:00.231]谁的心头风起\r\n[02:02.459]前仆而后继 万千人追寻\r\n[02:04.916]荒漠唯一菩提\r\n[02:07.112]是擦身相遇 或擦肩而去\r\n[02:09.346]命运犹如险棋\r\n[02:11.712]无数时间线 无尽可能性\r\n[02:13.898]终于交织向你\r\n[02:16.504]那一天 那一刻 那个场景\r\n[02:20.869]你出现在我生命\r\n[02:25.479]未知的 未来里 未定机率\r\n[02:30.064]然而此刻拥有你\r\n[02:34.992]某一天 某一刻 某次呼吸\r\n[02:39.338]我们终将再分离\r\n[02:43.923]而我的 自传里 曾经有你\r\n[02:48.508]没有遗憾的诗句\r\n[02:55.045]诗句里 充满感激\r\n[03:00.441]如果我们不曾相遇\r\n[03:04.689]我会是在哪里\r\n[03:09.279]如果我们从不曾相识\r\n[03:13.883]不存在这首歌曲\r\n'}

# 酷我音乐：
python run.py http://www.kuwo.cn/yinyue/359900
{'title': '恭喜发财', 'author': '刘德华', 'url': 'http://other.web.ra01.sycdn.kuwo.cn/resource/n2/2011/06/08/2318884138.mp3', 'pic': 'http://img2.kuwo.cn/star/starheads/120/5/c726edb09fd899d65e8e9e878436583_0.jpg', 'lrc': '[00:0.73]恭喜发财-刘德华\n[00:25.22]我恭喜你发财\n[00:28.82]我恭喜你精彩\n[00:32.53]最好的请过来\n[00:34.13]不好的请走开\n[00:35.79]oh 礼多人不怪\n[00:41.65]我祝满天下的女孩\n[00:43.55]嫁一个好男孩\n[00:45.15]两小口永远在一块\n[00:48.68]我祝满天下的小孩\n[00:50.84]聪明胜过秀才\n[00:52.59]智商充满你脑袋\n[00:56.19]我祝尊敬的姑奶奶\n[00:58.03]三十六圈的比赛\n[00:59.88]气不喘面容不改\n[01:3.13]我祝三叔公的买卖\n[01:5.30]生意扬名四海\n[01:7.16]财运亨通住豪宅\n[01:10.32]大摇大摆\n[01:13.98]乐天替你消灾\n[01:18.03]恭喜发财\n[01:21.93]要喊得够豪迈\n[01:25.30]恭喜发财\n[01:28.91]我恭喜你发财\n[01:31.37]我恭喜你精彩\n[01:35.89]最好的请过来\n[01:37.79]不好的请走开\n[01:39.54]oh 礼多人不怪\n[02:10.17]我祝大家笑口常开\n[02:12.59]用心把爱去灌溉\n[02:14.39]明天呀我们更厉害\n[02:17.90]我祝全世界的无奈\n[02:19.65]跑得比那黑人更快\n[02:21.69]岁岁年年出人才\n[02:24.52]大摇大摆\n[02:28.53]乐天替你消灾\n[02:32.54]恭喜发财\n[02:36.48]要喊得够豪迈\n[02:39.78]我恭喜你发财\n[02:43.22]我恭喜你精彩\n[02:46.74]最好的请过来\n[02:48.60]不好的请走开\n[02:50.60]oh 礼多人不怪\n[02:55.76]我恭喜你发财\n[02:59.81]我恭喜你精彩\n[03:3.20]最好的请过来\n[03:5.01]不好的请走开\n[03:6.74]oh 礼多人不怪\n[03:14.35]恭喜发财\n'}

```
